<h1>Clasificador de Billetes</h1>

<input type="file" id="imageInput">
<button id="classifyBtn">Clasificar</button>

<h2 id="result">Resultado:</h2>

<script>
document.getElementById("classifyBtn").addEventListener("click", async () => {
    const fileInput = document.getElementById("imageInput");
    if (!fileInput.files.length) {
        alert("Selecciona una imagen primero.");
        return;
    }

    const formData = new FormData();
    formData.append("image", fileInput.files[0]);

    const res = await fetch("/predict", {
        method: "POST",
        body: formData
    });

    const data = await res.json();
    console.log("Respuesta del servidor:", data);

    document.getElementById("result").innerHTML =
        `Clase: <b>${data.class}</b><br>Confianza: <b>${(data.confidence * 100).toFixed(2)}%</b>`;
});
</script>
